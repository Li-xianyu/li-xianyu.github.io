*{
	margin:0;
	padding:0;
	box-sizing:border-box;
	-webkit-tap-highlight-color: transparent;
	-webkit-user-select:none;
	user-select:none;
}

:root{
	/* 跟 index.css 一致的基调 */
	--bg-color:#f8f4ff;
	--board-color:#ffffff;
	--cell-color:#f0e8ff;
	--black-cell:#6a45b8;
	--start-cell:#ff6b8b;
	--end-cell:#58d8a3;
	--text-color:#3d2963;
	--shadow-color:rgba(0,0,0,0.10);

	--cell-radius:10px;
	--transition-speed:.25s;

	/* 弹窗风格也统一一下 */
	--overlay-bg:rgba(255,255,255,0.25);
	--dialog-bg:rgba(255,255,255,0.70);
	--dialog-border:rgba(255,255,255,0.45);
	--dialog-text:#2d2d2d;
	--dialog-muted:#4a4a4a;

	/* setting 专用 */
	--card-bg:rgba(255,255,255,0.70);
	--card-border:rgba(255,255,255,0.55);
	--chip-bg:rgba(255,255,255,0.60);
	--chip-border:rgba(0,0,0,0.08);
	--input-bg:rgba(255,255,255,0.65);
	--input-border:rgba(0,0,0,0.12);

	--accent: var(--black-cell);
	--accent-2: #c792ea;
}

[data-theme="dark"]{
	--bg-color:#1a103d;
	--board-color:#2a2150;
	--cell-color:#352b60;
	--black-cell:#9d7aff;
	--start-cell:#ff8fab;
	--end-cell:#7affc1;
	--text-color:#e2d9ff;
	--shadow-color:rgba(0,0,0,0.30);

	--overlay-bg:rgba(0,0,0,0.35);
	--dialog-bg:rgba(42,33,80,0.80);
	--dialog-border:rgba(255,255,255,0.16);
	--dialog-text:rgba(255,255,255,0.92);
	--dialog-muted:rgba(255,255,255,0.75);

	--card-bg:rgba(42,33,80,0.62);
	--card-border:rgba(255,255,255,0.12);
	--chip-bg:rgba(255,255,255,0.10);
	--chip-border:rgba(255,255,255,0.14);
	--input-bg:rgba(255,255,255,0.08);
	--input-border:rgba(255,255,255,0.14);

	--accent: var(--black-cell);
	--accent-2:#7f47ff;
}

.theme-toggle{
	position:fixed;
	top:16px;
	right:16px;
	width:44px;
	height:44px;
	border:none;
	border-radius:999px;
	cursor:pointer;

	display:flex;
	align-items:center;
	justify-content:center;

	background:var(--black-cell);
	color:#fff;
	box-shadow:0 6px 18px var(--shadow-color);
	transition: transform .15s ease, filter .15s ease;
	z-index:9999;
}

.theme-toggle:hover{
	transform:scale(1.05);
	filter:brightness(1.05);
}
.theme-toggle:active{ transform:scale(.98); }

.theme-toggle i{
	font-size:18px;
	line-height:1;
}


body{
	font-family:-apple-system,BlinkMacSystemFont,"San Francisco",Arial,"Microsoft YaHei",sans-serif;
	background:var(--bg-color);
	color:var(--text-color);
	min-height:100vh;
	padding:28px 14px 36px;
	line-height:1.7;
	transition: background var(--transition-speed), color var(--transition-speed);
}

/* 宽度收口，和你 task-panel 那种观感一致 */
.page{
	width:min(860px, 92vw);
	margin:0 auto;
}

/* 你 HTML 没有 .page，这里用 body 直接兜底 */
body > h1,
.segmented,
.tab-panel,
.save-btn{
	width:min(860px, 92vw);
	margin-left:auto;
	margin-right:auto;
}

h1{
	font-size:24px;
	font-weight:800;
	letter-spacing:.4px;
	text-align:center;
	margin:10px auto 16px;
	text-shadow:0 2px 10px rgba(0,0,0,0.06);
}

/* ===== Segmented（跟主页风格对齐：玻璃 + 紫系） ===== */
.segmented{
	position:relative;
	margin: 6px auto 18px;
	padding:6px;
	border-radius:14px;

	background: rgba(255,255,255,0.55);
	border:1px solid rgba(0,0,0,0.06);
	box-shadow: 0 10px 28px rgba(0,0,0,0.06);
	backdrop-filter: blur(14px);
	-webkit-backdrop-filter: blur(14px);

	display:grid;
	grid-template-columns: 1fr 1fr;
	gap:6px;
}

[data-theme="dark"] .segmented{
	background: rgba(255,255,255,0.08);
	border:1px solid rgba(255,255,255,0.12);
	box-shadow: 0 12px 34px rgba(0,0,0,0.25);
}

.seg-btn{
	position:relative;
	z-index:2;
	border:none;
	background:transparent;
	color: var(--dialog-muted);
	font-size:14px;
	font-weight:800;
	padding:10px 8px;
	border-radius:12px;
	cursor:pointer;
	transition: color .18s ease, transform .12s ease;
	outline:none;
}

.seg-btn:active{ transform: scale(.98); }

.seg-btn.active{
	color: var(--dialog-text);
}

.seg-indicator{
	position:absolute;
	top:6px;
	left:6px;
	height: calc(100% - 12px);
	width: calc(50% - 6px);
	border-radius:12px;
	z-index:1;

	background: rgba(255,255,255,0.78);
	border:1px solid rgba(0,0,0,0.06);
	box-shadow: 0 8px 22px rgba(0,0,0,0.10);
	backdrop-filter: blur(18px);
	-webkit-backdrop-filter: blur(18px);

	transform: translateX(0);
	transition: transform .22s cubic-bezier(.16,1,.3,1), width .22s cubic-bezier(.16,1,.3,1);
}

[data-theme="dark"] .seg-indicator{
	background: rgba(255,255,255,0.10);
	border:1px solid rgba(255,255,255,0.14);
	box-shadow: 0 10px 26px rgba(0,0,0,0.28);
}

/* ===== 面板容器 ===== */
.tab-panel{
	margin:0 auto;
}

/* ===== Fieldset 卡片化（替代原来那种白底蓝边） ===== */
fieldset{
	border:none;
	border-radius:14px;
	padding:14px 14px 12px;
	margin: 14px auto;
	text-align:left;

	background: var(--card-bg);
	border:1px solid var(--card-border);
	box-shadow: 0 10px 28px rgba(0,0,0,0.06);

	backdrop-filter: blur(14px);
	-webkit-backdrop-filter: blur(14px);

	transition: background var(--transition-speed), box-shadow var(--transition-speed), border-color var(--transition-speed);
}

legend{
	padding:0 10px;
	font-size:15px;
	font-weight:900;
	color: var(--accent);
	letter-spacing:.3px;
}

/* 小提示：弱化为“紫色提示” */
.tip{
	margin-top:6px;
	font-size:13px;
	color: rgba(61,41,99,0.70);
}

[data-theme="dark"] .tip{
	color: rgba(255,255,255,0.70);
}

.input-group{
	display:flex;
	align-items:center;
	justify-content:space-between;
	gap:12px;
	flex-wrap:wrap;
	margin-top:10px;
}

.input-group label{
	font-size:14px;
	font-weight:800;
	opacity:.85;
	min-width:88px;
	text-align:right;
}

.input-group input{
	width:86px;
	padding:8px 10px;
	font-size:14px;
	text-align:center;

	border-radius:10px;
	border:1px solid var(--input-border);
	background: var(--input-bg);
	color: var(--dialog-text);

	outline:none;
	transition: transform .12s ease, border-color .2s ease, box-shadow .2s ease, background .2s ease;
}

.input-group input:focus{
	border-color: rgba(157,122,255,0.55);
	box-shadow: 0 0 0 4px rgba(199,146,234,0.25);
}

.input-group input:active{ transform: scale(.99); }

.input-group input[type="number"]::-webkit-outer-spin-button,
.input-group input[type="number"]::-webkit-inner-spin-button{
	-webkit-appearance:none;
	margin:0;
}

/* 权重块不再“浅灰底”，直接沿用卡片 */
fieldset.weight-settings-container{
	background: var(--card-bg);
}

/* label + input 行 */
.input-container{
	display:flex;
	align-items:center;
	justify-content:space-between;
	gap:12px;
	margin:10px 0;
}

.input-container label{
	font-size:14px;
	font-weight:800;
	color: var(--dialog-muted);
	width: 170px;
}

.input-container input{
	width: 92px;
	padding:8px 10px;
	font-size:14px;

	border-radius:10px;
	border:1px solid var(--input-border);
	background: var(--input-bg);
	color: var(--dialog-text);

	outline:none;
	transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}

.input-container input:focus{
	border-color: rgba(157,122,255,0.55);
	box-shadow: 0 0 0 4px rgba(199,146,234,0.25);
}

.input-container input[type="number"]::-webkit-outer-spin-button,
.input-container input[type="number"]::-webkit-inner-spin-button{
	-webkit-appearance:none;
	margin:0;
}

/* ===== 选择按钮（chip 风格，跟你主站按钮一致的“圆润+玻璃”） ===== */
.button-group{
	display:flex;
	flex-wrap:wrap;
	gap:10px;
	margin-top:12px;
}

.select-btn{
	padding:9px 14px;
	font-size:13px;
	font-weight:800;
	border-radius:999px;
	cursor:pointer;

	border:1px solid var(--chip-border);
	background: var(--chip-bg);
	color: var(--dialog-text);

	box-shadow: 0 6px 18px rgba(0,0,0,0.05);
	transition: transform .12s ease, background .2s ease, box-shadow .2s ease, border-color .2s ease, opacity .2s ease;
}

.select-btn:hover{
	transform: translateY(-1px);
	box-shadow: 0 10px 22px rgba(0,0,0,0.08);
}

.select-btn:active{
	transform: scale(.98);
}

.select-btn.selected{
	background: var(--accent);
	border-color: rgba(0,0,0,0.06);
	color:#fff;
	box-shadow: 0 10px 24px rgba(106,69,184,0.25);
}

[data-theme="dark"] .select-btn.selected{
	box-shadow: 0 12px 28px rgba(0,0,0,0.35);
}

/* ===== 保存按钮（跟你 menu-btn 那种风格） ===== */
.save-btn{
	margin: 18px auto 0;
	display:block;
	padding:12px 18px;
	font-size:16px;
	font-weight:900;
	letter-spacing:.3px;

	color:#fff;
	background: var(--black-cell);
	border:none;
	border-radius:14px;
	cursor:pointer;

	box-shadow: 0 10px 26px rgba(0,0,0,0.14);
	transition: transform .12s ease, filter .12s ease, box-shadow .2s ease;
}

.save-btn:hover{
	transform: scale(1.02);
	filter: brightness(1.04);
	box-shadow: 0 14px 30px rgba(0,0,0,0.18);
}

.save-btn:active{
	transform: scale(.99);
}

/* ===== Modal（复用你 index.css 的 overlay/dialog 语言） ===== */
.modal-overlay{
	position:fixed;
	inset:0;
	background: var(--overlay-bg);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);

	display:flex;
	justify-content:center;
	align-items:center;

	opacity:0;
	visibility:hidden;
	transition: opacity .22s ease, visibility .22s ease;
	padding:16px;
	z-index:9999;
}

.modal-overlay.show{
	opacity:1;
	visibility:visible;
}

@keyframes popIn{
	0%{ transform: scale(.92); opacity:0; }
	100%{ transform: scale(1); opacity:1; }
}

.modal{
	width:min(92vw, 360px);
	background: var(--dialog-bg);
	border:1px solid var(--dialog-border);
	border-radius:16px;
	box-shadow: 0 12px 48px rgba(0,0,0,0.12);
	backdrop-filter: blur(24px);
	-webkit-backdrop-filter: blur(24px);
	padding:18px 16px 14px;
	text-align:center;
	animation: popIn .22s cubic-bezier(0.22,0.61,0.36,1);
}

.modal h2{
	font-size:16px;
	font-weight:900;
	color: var(--dialog-text);
	margin-bottom:8px;
}

.modal p{
	font-size:13px;
	color: var(--dialog-muted);
	margin-bottom:14px;
	line-height:1.5;
}

.modal button{
	width:100%;
	padding:10px 12px;
	border:none;
	border-radius:12px;
	cursor:pointer;
	font-size:15px;
	font-weight:900;

	background: var(--black-cell);
	color:#fff;
	box-shadow: 0 10px 24px rgba(0,0,0,0.12);
	transition: transform .12s ease, filter .12s ease;
}

.modal button:active{
	transform: scale(.99);
	filter: brightness(.98);
}

/* 小屏优化 */
@media (max-width:420px){
	body{ padding:22px 12px 30px; }
	.input-container label{ width: 150px; }
	.select-btn{ padding:8px 12px; }
}